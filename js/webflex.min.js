var basePath="https://webflex.flexpoint.com.br/";var basePathAPI=basePath+"api/";$.getScript(basePath+"js/common.js",function(){$.getScript(basePath+"js/jquery.maskedinput.min.js",function(){$.getScript(basePath+"js/jquery.maskMoney.js",function(){$.getScript(basePath+"js/bootstrap-dialog.min.js",function(){$.getScript(basePath+"js/jquery.blueimp-gallery.min.js",function(){$.getScript(basePath+"js/bootstrap-image-gallery.min.js",function(){$.getScript(basePath+"js/jquery.blockUI.js",function(){$.getScript(basePath+"js/jquery.form.min.js",function(){$(function(){fieldFunctions();configShare();if($("#blueimp-gallery")){$("#blueimp-gallery").data("useBootstrapModal",false);$("#blueimp-gallery").toggleClass("blueimp-gallery-controls",true)}if($("#txtRanking").length){listRanking("","",1)}})})})})})})})})});function configShare(){$(".share-button").each(function(a,b){$(b).click(function(){var e=520;var d=350;var c=(screen.height/2)-(d/2);var f=(screen.width/2)-(e/2);window.open(this.href,"Compartilhar","top="+c+",left="+f+",toolbar=0,status=0,width="+e+",height="+d);return false})})}function blockUi(){$.blockUI({message:'<img src="'+basePath+'css/img/loading.gif" width="20px" /> Aguarde...',css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:0.5,color:"#fff"}})}function unblockUi(){$.unblockUI()}function newSearch(b,a){if(a.val().length>2){blockUi();location=b+"/search/by/"+a.val()}else{showMessage("Formul&aacute;rio de pesquisa","<p>&Eacute; necess&aacute;rio pelo menos 2 caracteres para realizar a busca",BootstrapDialog.TYPE_DANGER,[])}return false}function searchAll(b,a){if(a.val().length>2){blockUi();location=b+"buscar/"+a.val()}else{showMessage("Formul&aacute;rio de pesquisa","<p>&Eacute; necess&aacute;rio pelo menos 2 caracteres para realizar a busca",BootstrapDialog.TYPE_DANGER,[])}return false}var imgLoaded;function verifyLoadImage(a,b){if(imgLoaded.complete){$("#"+a).unblockUI();$("#img-gallery").html('<img srcset="'+imgLoaded.src+'" class="img-responsive center-block principal" alt="">')}else{setTimeout("verifyLoadImage('"+a+"', '"+b+"')",100)}}function showPhoto(a,c,b){$("#"+a).blockUI({message:'<img src="'+basePath+'css/img/loading.gif" width="20px" /> Aguarde...'});imgLoaded=new Image();imgLoaded.src=c;setTimeout("verifyLoadImage('"+a+"', '"+b+"')",100)}function sendContact(b){var c="Contato";var a=BootstrapDialog.TYPE_DANGER;if(validaForm(b,true)){$(b).ajaxSubmit({url:__PATH__+"ajax/send-contact/",type:"POST",dataType:"json",beforeSend:function(){blockUi()},success:function(e,f,d){unblockUi();blockUiMsg(e.data);if(e.ok){b.reset();if(typeof(fbq_enabled)!=="undefined"){fbq("track","Lead")}}}})}return false}function sendBudget(b){var c="Pedido de Or&ccedil;amento";var a=BootstrapDialog.TYPE_DANGER;if(validaForm(b,true)){$(b).ajaxSubmit({url:__PATH__+"ajax/send-budget/",type:"POST",dataType:"json",beforeSend:function(){blockUi()},success:function(e,f,d){unblockUi();blockUiMsg(e.data);if(e.ok){b.reset();if(typeof(fbq_enabled)!=="undefined"){fbq("track","Lead")}}}})}return false}function showMessage(f,e,b,c,a){var d=a||BootstrapDialog.SIZE_NORMAL;BootstrapDialog.show({type:b,title:f,message:e,buttons:c,size:d})}function cadNewsOnlyEmail(a){if(cadastraNews(a.val(),a.val())){a.val("")}}function cadNews(b,a){if(cadastraNews(b.val(),a.val())){b.val("");a.val("")}}function cadastraNews(c,b){var a=c;var e=b||a;var g="Cadastro de Newsletter";var d=BootstrapDialog.TYPE_DANGER;var f="";if(checkMail(a)){blockUi();$.ajax({url:__PATH__+"ajax/newsletter-add/email/"+a+"/nome/"+e,type:"GET",dataType:"json",success:function(i,j,h){unblockUi();f=i.data;blockUiMsg(f);if(i.ok&&typeof(fbq_enabled)!=="undefined"){fbq("track","Lead")}return i.ok},error:function(h,j,i){unblockUi();f="Ocorreu um erro: "+i;showMessage(g,f,d,[]);return false}})}else{showMessage(g,"Email inv&aacute;lido",d,[]);return false}}function postList(a,g,f,d,b,e,c){$("#"+c).html('<img src="'+basePath+'css/img/loading.gif" width="20px" /> Aguarde...').load(__PATH__+"ajax/post-list/json/false/tipo/"+a+"/id/"+g+"/categoria/"+f+"/page/"+d+"/per_page/"+b+"/format/"+e);configShare()}function imobList(c,m,k,f,i,h,d,j,g,b,l,e){var a=__PATH__+"ajax/imob-list/json/false/id/"+c;if(m!=""){a+="/disp/"+m}if(k!=""){a+="/tipo/"+k}if(f!=""){a+="/bairro/"+f}if(i!=""){a+="/quartos/"+i}if(h!=""){a+="/banheiros/"+h}if(d!=""){a+="/min/"+d}if(j!=""){a+="/max/"+j}$("#"+e).html('<img src="'+basePath+'css/img/loading.gif" width="20px" /> Aguarde...').load(a+"/page/"+g+"/per_page/"+b+"/format/"+l)}function imobSearch(b){blockUi();var a=b+"imoveis/list";if($("#search_disp_a").prop("checked")){a+="/disp/a"}else{if($("#search_disp_v").prop("checked")){a+="/disp/v"}}if($("#search_tipo").val()!=""){a+="/tipo/"+$("#search_tipo").val()}if($("#search_bairro").val()!=""){a+="/bairro/"+$("#search_bairro").val()}if($("#search_quartos").val()!=""){a+="/quartos/"+$("#search_quartos").val()}if($("#search_banheiros").val()!=""){a+="/banheiros/"+$("#search_banheiros").val()}if($("#search_min").val()!=""){a+="/min/"+$("#search_min").val()}if($("#search_max").val()!=""){a+="/max/"+$("#search_max").val()}blockUi();location=a;return false}function listRanking(a,c,d){var e=__PATH__+"ajax/list-ranking";if(a!=""){e+="/n/"+a}if(c!=""){e+="/g/"+c}if(parseInt(d)+0>0){e+="/p/"+parseInt(d)}var f="Lista de Ranking";var b=BootstrapDialog.TYPE_DANGER;blockUi();$.ajax({url:e,type:"GET",dataType:"json",success:function(g){$("#txtRanking").html(g.data);unblockUi()},error:function(g,i,h){unblockUi();msg="Ocorreu um erro: "+h;showMessage(f,msg,b,[])}})}function blockUiMsg(message,timeout,callback){var cb=callback||"unblockUi()";var timeout=timeout||5000;var count=timeout/1000;message+='<br><em class="small">Esta janela se fechar&aacute; em <span id="msg_seg">'+count+'</span> segundos. <a href="javascript:;" onclick="'+cb+'">Fechar agora!</a></em>';$.blockUI({message:message,css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:1,color:"#fff"}});var tout;function dcounter(){$("#msg_seg").html(count);if(count>0){count--;tout=setTimeout(function(){dcounter()},1000)}}dcounter();setTimeout(function(){clearTimeout(tout);eval(cb)},timeout)}function detailPlayerRanking(id){var v_url=__PATH__+"ajax/detail-ranking/id/"+id;var title="Detalhe do Jogador";var type=BootstrapDialog.TYPE_DEFAULT;var ok=false;var v_pie1=v_pie2=[];blockUi();$.ajax({url:v_url,type:"GET",dataType:"json",success:function(data){msg=data.data;ok=data.ok;if(data.ok){eval("v_pie1 = "+data.dp1.replace(/'/g,'"')+";");eval("v_pie2 = "+data.dp2.replace(/'/g,'"')+";")}},error:function(jqXHR,textStatus,errorThrown){msg="Ocorreu um erro: "+errorThrown;type=BootstrapDialog.TYPE_DANGER}}).done(function(){unblockUi();BootstrapDialog.show({type:type,title:title,message:msg,buttons:[],size:BootstrapDialog.SIZE_WIDE,onshown:function(dialogRef){if(ok){var chart=new google.visualization.PieChart(document.getElementById("pie1"));chart.draw(google.visualization.arrayToDataTable(v_pie1),{title:"Raca que mais ganhou",legend:"none",});var chart2=new google.visualization.PieChart(document.getElementById("pie2"));chart2.draw(google.visualization.arrayToDataTable(v_pie2),{title:"Raca que mais perdeu",legend:"none",})}},})})}function fieldFunctions(){$(".money").maskMoney({thousands:".",decimal:",",allowZero:true});$(".date").mask("99/99/9999",{autoclear:false});$(".hour").mask("99:99:99",{autoclear:false});$(".shorthour").mask("99:99",{autoclear:false});$(".cep").mask("99.999-999",{autoclear:false});$(".cnpj").mask("99.999.999/9999-99",{autoclear:false});$(".cpfcnpj").each(function(b,c){var a=$(c).val().replace(/[^0-9]/g,"").length;if(a>11){$(c).attr("data-tmask",14);$(c).mask("?99.999.999/9999-99",{autoclear:false})}else{$(c).attr("data-tmask",11);$(c).mask("?999.999.999-99999",{autoclear:false})}$(c).keyup(function(){var d=$(this).val().replace(/[^0-9]/g,"").length;if(d>11){if($(this).attr("data-tmask")!=14){$(this).attr("data-tmask",14);$(this).mask("?99.999.999/9999-99",{autoclear:false})}}else{if(d<=11){if($(this).attr("data-tmask")!=11){$(this).attr("data-tmask",11);$(this).mask("?999.999.999-99999",{autoclear:false})}}}})});$(".phone").each(function(b,c){var a=$(c).val().replace(/[^0-9]/g,"").length;if(a>10){$(c).attr("data-tmask",11);$(c).mask("(99) 99999-999?9",{autoclear:false})}else{$(c).attr("data-tmask",10);$(c).mask("(99) 9999-9999?9",{autoclear:false})}$(c).keyup(function(){var d=$(this).val().replace(/[^0-9]/g,"").length;if(d>10){if($(this).attr("data-tmask")!=11){$(this).attr("data-tmask",11);$(this).mask("(99) 99999-999?9",{autoclear:false})}}else{if(d<=10){if($(this).attr("data-tmask")!=10){$(this).attr("data-tmask",10);$(this).mask("(99) 9999-9999?9",{autoclear:false})}}}})})};